<%= turbo_frame_tag :resource_modal, target: "_top" do %>
  <%= render component("ui/modal").new(title: t(".title")) do |modal| %>
    <%= form_for @zone, url: form_url, html: { id: form_id } do |f| %>
      <div class="flex flex-col gap-6 pb-4">
        <%= render component("ui/forms/field").text_field(f, :name, class: "required") %>
        <%= render component("ui/forms/field").select(
          f,
          :country_ids,
          Spree::Country.all.map { |c| [c.name, c.id] },
          object: @zone,
          value: @zone.country_ids,
          multiple: true,
          class: "required"
        ) %>
        <%= render component("ui/forms/field").text_field(f, :description, class: "required") %>
        <%= render component("ui/forms/field").select(
          f,
          :kind,
          [[t(".kinds.country"), :country], [t(".kinds.state"), :state]],
          object: @zone,
          value: @zone.kind || :state
        ) %>

      </div>
      <% modal.with_actions do %>
        <form method="dialog">
          <%= render component("ui/button").new(scheme: :secondary, text: t('.cancel')) %>
        </form>
        <%= render component("ui/button").new(form: form_id, type: :submit, text: t('.submit')) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
